<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Feud - Host Control Panel</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-screen">
        <div class="login-container">
            <h1 class="login-logo">FAMILY FEUD</h1>
            <p class="login-subtitle">Host Login</p>
            
            <div class="login-form">
                <div class="login-input-group">
                    <label class="login-label">Enter Password</label>
                    <input type="password" id="password-input" placeholder="Enter host password..." autocomplete="off">
                </div>
                <div id="login-error" class="login-error"></div>
                <button type="button" id="login-btn" class="login-btn">
                    LOGIN
                </button>
            </div>
        </div>
    </div>

    <!-- Tutorial Screen -->
    <div id="tutorial-screen" class="tutorial-screen" style="display: none;">
        <div class="tutorial-container">
            <h1 class="tutorial-logo">FAMILY FEUD</h1>
            <p class="tutorial-subtitle">üéÆ Host Guide üéÆ</p>
            
            <!-- Video Dropdown Bar -->
            <div class="video-dropdown">
                <button class="video-dropdown-toggle" id="video-dropdown-toggle">
                    <span class="video-dropdown-icon">üé¨</span>
                    <span class="video-dropdown-text">Watch an Example Game</span>
                    <span class="video-dropdown-arrow" id="video-dropdown-arrow">‚ñº</span>
                </button>
                <div class="video-dropdown-content" id="video-dropdown-content">
                    <div class="tutorial-video-wrapper">
                        <iframe 
                            id="tutorial-video-iframe"
                            src="" 
                            data-src="https://www.youtube.com/embed/Jqx6a3eIn6M?start=54"
                            title="Family Feud Example Game" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                        </iframe>
                    </div>
                </div>
            </div>
            
            <div class="tutorial-content">
                <div class="tutorial-section">
                    <h2 class="tutorial-heading">üìã The Questions</h2>
                    <p class="tutorial-text">
                        Here's the twist that makes Family Feud special ‚Äî the answers aren't about being "right," they're about being <strong>popular!</strong> Every question is based on responses from a 100-person survey. Your contestants need to guess what <em>most people</em> said, not what's technically correct.
                    </p>
                    <p class="tutorial-text">
                        That's where the iconic <strong>"SURVEY SAYS..."</strong> comes from! The top answers are hidden on the board, waiting to be revealed.
                    </p>
                </div>
                
                <div class="tutorial-section">
                    <h2 class="tutorial-heading">üéØ Playing the Main Game</h2>
                    <p class="tutorial-text">
                        <strong>The Face-Off:</strong> Each round starts with one player from each team stepping up. Ask the question and see who shouts out a survey answer first! If they nail the #1 answer, their team takes control. If not, the other player gets a shot at a higher-ranked answer.
                    </p>
                    <p class="tutorial-text">
                        <strong>Team Play:</strong> Once a team has control, they take turns guessing answers one by one. Here's the catch ‚Äî <em>no helping each other!</em> Each family member is on their own. Wrong answer? That's a <span class="tutorial-strike">‚ùå STRIKE!</span>
                    </p>
                    <p class="tutorial-text">
                        <strong>Three Strikes:</strong> If a team gets 3 strikes, the other team swoops in for a steal! They get ONE chance to guess a remaining answer. Nail it? They take ALL the points. Miss it? The original team keeps the points.
                    </p>
                </div>

                <div class="tutorial-section">
                    <h2 class="tutorial-heading">üïπÔ∏è Host Controls</h2>
                    <p class="tutorial-text">
                        Click the <span class="tutorial-key">‚öô Controls</span> button (bottom-left) to reveal your hosting powers:
                    </p>
                    <ul class="tutorial-list">
                        <li><strong>New Question</strong> ‚Äî Load up a fresh question for the next round</li>
                        <li><strong>Reveal Answer</strong> ‚Äî Flip over answers one by one (in order)</li>
                        <li><strong>Add/Remove Strike</strong> ‚Äî Track those wrong guesses</li>
                        <li><strong>Add Points</strong> ‚Äî Award points to the winning team</li>
                        <li><strong>Reset Round</strong> ‚Äî Start the current round over</li>
                        <li><strong>End Game</strong> ‚Äî Finish up and see the final scores</li>
                    </ul>
                </div>

                <div class="tutorial-section">
                    <h2 class="tutorial-heading">‚úé Smart Answer Checker</h2>
                    <p class="tutorial-text">
                        Click the <span class="tutorial-key">‚úé Answer</span> button (bottom-right) to open the AI-powered answer checker! Type in what a contestant said, and the system will automatically determine if it matches any answer on the board.
                    </p>
                    <p class="tutorial-text">
                        <span class="tutorial-correct">‚úì Correct answers</span> trigger confetti and reveal on the board!<br>
                        <span class="tutorial-wrong">‚úó Wrong answers</span> add a strike automatically.
                    </p>
                    <p class="tutorial-text">
                        All guesses appear in the <strong>Entry Log</strong> on the right side of the board so everyone can see what's been tried!
                    </p>
                </div>

                <div class="tutorial-section">
                    <h2 class="tutorial-heading">‚è±Ô∏è Timer</h2>
                    <p class="tutorial-text">
                        Use the timer on the left side of the board to keep the pressure on! Set how many seconds contestants get, then hit <strong>Start</strong>. When time runs out, a big <strong>"TIME'S UP!"</strong> will appear. Perfect for fast-paced rounds!
                    </p>
                </div>

                <div class="tutorial-section">
                    <h2 class="tutorial-heading">‚å®Ô∏è Keyboard Shortcuts</h2>
                    <p class="tutorial-text">
                        Pro hosts use these quick keys:
                    </p>
                    <div class="tutorial-shortcuts">
                        <span class="shortcut"><kbd>N</kbd> New Question</span>
                        <span class="shortcut"><kbd>R</kbd> Reveal Answer</span>
                        <span class="shortcut"><kbd>S</kbd> Add Strike</span>
                        <span class="shortcut"><kbd>A</kbd> Add Points</span>
                        <span class="shortcut"><kbd>ESC</kbd> Reset Round</span>
                    </div>
                </div>

                <div class="tutorial-section tutorial-tip">
                    <h2 class="tutorial-heading">üí° Pro Tip</h2>
                    <p class="tutorial-text">
                        The points from correct answers are automatically tallied in the Points input box! You can still adjust the value before awarding points to a team. Use the <span class="tutorial-key">‚õ∂</span> button to go fullscreen for the best experience!
                    </p>
                </div>
            </div>
            
            <button type="button" id="continue-to-setup-btn" class="continue-btn">
                LET'S PLAY! üéâ
            </button>
        </div>
    </div>

    <!-- Setup Screen -->
    <div id="setup-screen" class="setup-screen" style="display: none;">
        <div class="setup-container">
            <h1 class="setup-logo">FAMILY FEUD</h1>
            <p class="setup-subtitle">Game Setup</p>
            
            <div class="setup-form">
                <div class="setup-section">
                    <label class="setup-label">Team Names</label>
                    <div class="team-inputs">
                        <div class="team-input-group team-1-input">
                            <span class="team-indicator">Team 1</span>
                            <input type="text" id="team1-name-input" placeholder="Enter Team 1 Name" maxlength="20">
                        </div>
                        <div class="team-input-group team-2-input">
                            <span class="team-indicator">Team 2</span>
                            <input type="text" id="team2-name-input" placeholder="Enter Team 2 Name" maxlength="20">
                        </div>
                    </div>
                </div>
                
                <div class="setup-section">
                    <label class="setup-label">Number of Rounds</label>
                    <div class="rounds-selector">
                        <button type="button" class="round-btn" data-rounds="3">3</button>
                        <button type="button" class="round-btn" data-rounds="5">5</button>
                        <button type="button" class="round-btn selected" data-rounds="7">7</button>
                        <button type="button" class="round-btn" data-rounds="10">10</button>
                        <div class="custom-rounds">
                            <input type="number" id="custom-rounds-input" placeholder="Custom" min="1" max="50">
                        </div>
                    </div>
                </div>
                
                <div class="setup-buttons">
                    <button type="button" id="back-to-tutorial-btn" class="back-btn">
                        ‚Üê Back to Tutorial
                    </button>
                    <button type="button" id="start-game-btn" class="start-game-btn">
                        START GAME
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="container" id="game-container" style="display: none;">
        <!-- Question Display with Team Scores -->
        <div class="question-container">
            <!-- Team 1 Score (Left) -->
            <div class="team-score-inline team-1">
                <div class="team-name" id="team1-display-name">TEAM 1</div>
                <div class="score" id="team1-score">0</div>
            </div>
            
            <!-- Question Content (Center) -->
            <div class="question-content">
                <div class="question-label">Round <span id="current-round">1</span> of <span id="total-rounds">7</span></div>
                <div class="question" id="question-text">Click "New Question" to start</div>
            </div>
            
            <!-- Team 2 Score (Right) -->
            <div class="team-score-inline team-2">
                <div class="team-name" id="team2-display-name">TEAM 2</div>
                <div class="score" id="team2-score">0</div>
            </div>
        </div>

        <!-- Strikes Display -->
        <div class="strikes-container">
            <!-- <div class="strikes-label">STRIKES</div> -->
            <div class="strikes-display">
                <div class="strike" id="strike-1">‚úó</div>
                <div class="strike" id="strike-2">‚úó</div>
                <div class="strike" id="strike-3">‚úó</div>
            </div>
        </div>

        <!-- Answer Board with Timer and Entry Log -->
        <div class="game-board-wrapper">
            <!-- Timer Panel (Left) -->
            <div class="timer-panel">
                <div class="timer-label">TIMER</div>
                <div class="timer-display" id="timer-display">00:00</div>
                <div class="timer-input-group">
                    <label for="timer-seconds">Seconds:</label>
                    <input type="number" id="timer-seconds" value="30" min="1" max="999">
                </div>
                <div class="timer-buttons">
                    <button class="timer-btn timer-start" id="timer-start-btn">Start</button>
                    <button class="timer-btn timer-pause" id="timer-pause-btn">Pause</button>
                    <button class="timer-btn timer-reset" id="timer-reset-btn">Reset</button>
                </div>
            </div>

            <!-- Answer Board (Center) -->
            <div class="answers-container">
                <div class="answer-row">
                    <div class="answer-slot" data-index="0">
                        <div class="answer-number">1</div>
                        <div class="answer-text" id="answer-0">?</div>
                        <div class="answer-points" id="points-0"></div>
                    </div>
                    <div class="answer-slot" data-index="1">
                        <div class="answer-number">2</div>
                        <div class="answer-text" id="answer-1">?</div>
                        <div class="answer-points" id="points-1"></div>
                    </div>
                </div>
                <div class="answer-row">
                    <div class="answer-slot" data-index="2">
                        <div class="answer-number">3</div>
                        <div class="answer-text" id="answer-2">?</div>
                        <div class="answer-points" id="points-2"></div>
                    </div>
                    <div class="answer-slot" data-index="3">
                        <div class="answer-number">4</div>
                        <div class="answer-text" id="answer-3">?</div>
                        <div class="answer-points" id="points-3"></div>
                    </div>
                </div>
                <div class="answer-row">
                    <div class="answer-slot" data-index="4">
                        <div class="answer-number">5</div>
                        <div class="answer-text" id="answer-4">?</div>
                        <div class="answer-points" id="points-4"></div>
                    </div>
                    <div class="answer-slot" data-index="5">
                        <div class="answer-number">6</div>
                        <div class="answer-text" id="answer-5">?</div>
                        <div class="answer-points" id="points-5"></div>
                    </div>
                </div>
            </div>

            <!-- Entry Log (Right) -->
            <div class="entry-log-panel">
                <div class="entry-log-label">ENTRY LOG</div>
                <div class="entry-log-list" id="entry-log-list">
                    <div class="entry-log-empty">No entries yet</div>
                </div>
                <button class="entry-log-clear-btn" id="clear-log-btn">Clear Log</button>
            </div>
        </div>

        <!-- Player Answer Panel (Hidden by default) -->
        <div class="answer-panel" id="answer-panel" style="display: none;">
            <div class="answer-input-container">
                <div class="answer-input-label">Player Answer Check</div>
                <div class="answer-input-wrapper">
                    <input type="text" id="player-answer-input" placeholder="Type player's answer here..." autocomplete="off">
                    <button class="control-btn btn-primary" id="check-answer-btn">Check Answer</button>
                </div>
                <div id="check-status" class="check-status"></div>
            </div>
        </div>

        <!-- Host Controls Panel (Hidden by default) -->
        <div class="host-panel" id="host-panel" style="display: none;">
            <!-- Host Controls -->
            <div class="controls-container">
                <button class="control-btn btn-primary" id="new-question-btn">New Question</button>
                <button class="control-btn btn-secondary" id="reveal-answer-btn">Reveal Answer</button>
                <button class="control-btn btn-secondary" id="add-strike-btn">Add Strike</button>
                <button class="control-btn btn-secondary" id="remove-strike-btn">Remove Strike</button>
                <button class="control-btn btn-success" id="add-points-btn">Add Points</button>
                <button class="control-btn btn-warning" id="reset-round-btn">Reset Round</button>
                <button class="control-btn btn-danger" id="reset-game-btn">Reset Game</button>
                <button class="control-btn btn-end-game" id="end-game-btn">End Game</button>
            </div>

            <!-- Points Input -->
            <div class="points-input-container">
                <label for="points-input">Points to Add:</label>
                <input type="number" id="points-input" value="0" min="0">
                <label for="team-select">Team:</label>
                <select id="team-select">
                    <option value="1" id="team-select-option1">Team 1</option>
                    <option value="2" id="team-select-option2">Team 2</option>
                </select>
            </div>
        </div>

        <!-- Host Controls Toggle Button (Bottom Left) -->
        <button class="host-toggle-btn" id="host-toggle-btn" title="Toggle Host Controls">
            <span class="toggle-icon">‚öô</span>
            <span class="toggle-text">Controls</span>
        </button>

        <!-- Answer Check Toggle Button (Bottom Right) -->
        <button class="answer-toggle-btn" id="answer-toggle-btn" title="Toggle Answer Check">
            <span class="toggle-icon">‚úé</span>
            <span class="toggle-text">Answer</span>
        </button>
    </div>

    <!-- End Game Screen -->
    <div id="end-screen" class="end-screen" style="display: none;">
        <div class="end-container">
            <h1 class="end-title">GAME OVER</h1>
            
            <div id="winner-announcement" class="winner-announcement">
                <div class="trophy">üèÜ</div>
                <div class="winner-text" id="winner-text">TEAM WINS!</div>
            </div>
            
            <div class="final-scores">
                <div class="final-score-card team-1-final">
                    <div class="final-team-name" id="final-team1-name">TEAM 1</div>
                    <div class="final-score-value" id="final-team1-score">0</div>
                </div>
                <div class="vs-divider">VS</div>
                <div class="final-score-card team-2-final">
                    <div class="final-team-name" id="final-team2-name">TEAM 2</div>
                    <div class="final-score-value" id="final-team2-score">0</div>
                </div>
            </div>
            
            <button type="button" id="play-again-btn" class="play-again-btn">
                PLAY AGAIN
            </button>
        </div>
    </div>

    <!-- Feedback Overlays -->
    <div id="feedback-overlay" class="feedback-overlay"></div>
    <canvas id="confetti-canvas"></canvas>
    <div id="big-strike" class="big-strike">‚úó</div>
    <div id="times-up" class="times-up">TIME'S UP!</div>

    <!-- Fullscreen Toggle Button -->
    <button class="fullscreen-btn" id="fullscreen-btn" title="Toggle Fullscreen">
        <span class="fullscreen-icon" id="fullscreen-icon">‚õ∂</span>
    </button>

    <!-- Help/Tutorial Button -->
    <button class="help-btn" id="help-btn" title="How to Play">
        <span class="help-icon">?</span>
    </button>

    <script src="script.js"></script>
</body>
</html>
